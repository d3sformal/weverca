digraph g {node [shape=box]
 graph[rankdir="TB", concentrate=true];node0[label="Post
global $_page;
"]
node1[label="Form
global $_page;
"]
node2[label="Body
global $_page;
"]
node3[label="MoveArticle
global $_page;
"]
node4[label="DeleteArticle
global $_page;
"]
node5[label="MoveArticleForm
global $_page;
"]
node6[label="DeleteArticleForm
"]
node7[label=""]
node8[label="return false;
"]
node9[label=""]
node10[label="return false;
"]
node11[label=""]
node12[label="echo \"<div class=\\"toolbox\\">\";
ToolButton(\"p=$_GET[p]\", 'Zobrazit článek', 'page', false)
ToolButton(\"p=$_GET[p]&amp;a=article&amp;f=properties\", 'Vlastnosti článku', 'buble')
"]
node13[label=""]
node14[label="return;
"]
node15[label=""]
node16[label=""]
node17[label=""]
node18[label="return;
"]
node19[label="FormHead(\"Přesunout článek do jiné rubriky\")
$sql = sql_select('pages', 'name, id',
      \"where pid = '0' and deleted = '0' and script = 'rubric' order by name\"
  )
$values[0] = 0
$texts[0] = \"hlavní nabídka\"
$x = 1
"]
node20[label="return;
"]
node21[label="FormHead(\"Odstranit článek\")
YNRadio(\"Opravdu chcete odstranit tento článek?\", 1, 0)
FormBottom('')
"]
node22[label="die(\"<h1>Chyba vstupu</h1>\")
"]
node23[label="require_once \"_php/_text.php\"
$_inf['post'] = true
Post
$_inf['form'] = true
Form
Body
MoveArticle
DeleteArticle
MoveArticleForm
DeleteArticleForm
"]
node24[label=""]
node25[label="return;
"]
node26[label=""]
node27[label=""]
node28[label=""]
node29[label="return true;
"]
node30[label=""]
node31[label=""]
node32[label="ToolButton(\"p=$_GET[p]&amp;a=article&amp;f=move\", 'Přesunout článek do jiné rubriky', 'folder')
"]
node33[label="ShowAdminTextsTools()
"]
node34[label="return;
"]
node35[label="ShowTexts()
"]
node36[label="echo \"</div><div class=\\"float_cl\\">&nbsp;</div>\";
"]
node37[label=""]
node38[label="ThrowFormError(0, \"Pro přesun v rámci jedné rubriky použijte <a href=\\"$_inf[page]?p=$pid&amp;a=menu&amp;f=move&amp;i=$_page[pos]\\" >tento formulář</a>\")
return;
"]
node39[label="$color = 0
$p = 0
"]
node40[label=""]
node41[label="sql_update('pages',\"color = color - 1\", \"color > $_page[color] and deleted = '0'\")
"]
node42[label="sql_update('pages',\"pos = pos - 1\", \"pid = '$_page[pid]' and pos > $_page[pos] and deleted = '0'\")
sql_delete('texts',\"pid = '$_page[id]'\")
sql_update('pages',\"deleted = '1'\", \"id = '$_page[id]'\",1)
$pid = $_page['pid'] ? $_page['pid'] : MENU_ID
sql_update('pages', 'ct = ct - 1', \"id = '$pid' and deleted = 0\", 1)
MakeRefresh(\"index.php?p=\". ($_page['pid'] ? $_page['pid'] : MENU_ID) .\"&amp;a=menu\", 2)
"]
node43[label=""]
node44[label=""]
node45[label=""]
node46[label=""]
node47[label=""]
node48[label=""]
node49[label="return false;
"]
node50[label="return false;
"]
node51[label="PropertiesPost()
"]
node52[label="MoveArticle()
"]
node53[label="DeleteArticle()
"]
node54[label=""]
node55[label=""]
node56[label=""]
node57[label=""]
node58[label="return false;
"]
node59[label="return false;
"]
node60[label="return false;
"]
node61[label="return true;
"]
node62[label=""]
node63[label="PropertiesForm('alba')
"]
node64[label=""]
node65[label=""]
node66[label=""]
node67[label="ToolButton(\"p=$_GET[p]&amp;a=article&amp;f=delete\", 'Smazat článek', 'delete')
"]
node68[label=""]
node69[label=""]
node70[label="ThrowFormError(0, \"Cílová rubrika neexistuje\")
return;
"]
node71[label="ThrowFormError(0, \"Cílová rubrika neexistuje\")
return;
"]
node72[label="$id = $_page['pid'] ? $_page['pid'] : MENU_ID
sql_update('pages', 'ct = ct - 1', \"id = '$id' and deleted = 0\", 1)
$id = $pid ? $pid : MENU_ID
sql_update('pages', 'ct = ct + 1', \"id = '$id' and deleted = 0\", 1)
sql_update('pages',\"pos = pos - 1\", \"pid = '$_page[pid]' and pos > $_page[pos] and deleted = '0'\")
sql_update('pages',\"pid = '$pid', pos = '$p', color = '$color'\", \"id = '$_page[id]'\")
MakeRefresh()
"]
node73[label="$data = mysql_fetch_array( sql_select('pages', 'id, color, ct', \"where deleted = '0' and id = '$pid' and script = 'rubric'\"))
"]
node74[label="$data = mysql_fetch_array( sql_select('pages', 'id, ct', \"where deleted = '0' and id = '\". MENU_ID .\"'\"))
"]
node75[label=""]
node76[label="SelectBox(\"Přesunout do rubriky\", 1, $_page['pid'], $values, $texts)
FormBottom('')
"]
node77[label="$values[$x] = $data['id']
$texts[$x] = $data['name']
"]
node78[label="$x++
"]
node79[label=""]
node80[label=""]
node81[label=""]
node82[label=""]
node83[label=""]
node84[label="MoveArticleForm()
"]
node85[label="DeleteArticleForm()
"]
node86[label=""]
node87[label=""]
node88[label=""]
node89[label="$color--
"]
node90[label=""]
node91[label="sql_update('pages',\"color = color - 1\", \"color > $_page[color] and deleted = '0'\")
"]
node92[label="$p = $data['ct'] + 1
$color = $data['color']
"]
node93[label="$p = $data['ct'] + 1
$color = $p
"]
node94[label=""]
node95[label=""]
node96[label=""]
node97[label=""]
node0 -> node8[headport=n, tailport=s,label="LCK && !IsLoged()"]
node0 -> node9[headport=n, tailport=s,label=" else  "]
node1 -> node10[headport=n, tailport=s,label="LCK && !IsLoged()"]
node1 -> node11[headport=n, tailport=s,label=" else  "]
node2 -> node12[headport=n, tailport=s,label="IsLoged() || !LCK"]
node2 -> node13[headport=n, tailport=s,label=" else  "]
node3 -> node14[headport=n, tailport=s,label="NumberTest(1, $pid  = GetCollum(1) , 0, 0)"]
node3 -> node15[headport=n, tailport=s,label=" else  "]
node4 -> node16[headport=n, tailport=s,label="GetCollum(1)"]
node4 -> node17[headport=n, tailport=s,label=" else  "]
node5 -> node18[headport=n, tailport=s,label="IsRefreshed(\"Článek byl přesunut\")"]
node5 -> node19[headport=n, tailport=s,label=" else  "]
node6 -> node20[headport=n, tailport=s,label="IsRefreshed(\"Článek odstraněn\")"]
node6 -> node21[headport=n, tailport=s,label=" else  "]
node7 -> node22[headport=n, tailport=s,label="AUTORIZACE != \"Q.&dJhůs63d5dS=d56sLc5%\" or !AUTORIZACE"]
node7 -> node23[headport=n, tailport=s,label=" else  "]
node8 -> node24[headport=n, tailport=s,label="   "]
node9 -> node25[headport=n, tailport=s,label="TextPost()"]
node9 -> node26[headport=n, tailport=s,label=" else  "]
node10 -> node28[headport=n, tailport=s,label="   "]
node11 -> node29[headport=n, tailport=s,label="ShowTextForm()"]
node11 -> node30[headport=n, tailport=s,label=" else  "]
node12 -> node32[headport=n, tailport=s,label="!$_page['lck']"]
node12 -> node33[headport=n, tailport=s,label=" else  "]
node13 -> node34[headport=n, tailport=s,label="Form()"]
node13 -> node35[headport=n, tailport=s,label=" else  "]
node14 -> node37[headport=n, tailport=s,label="   "]
node15 -> node38[headport=n, tailport=s,label="$pid == $_page['pid']"]
node15 -> node39[headport=n, tailport=s,label=" else  "]
node16 -> node41[headport=n, tailport=s,label="!$_page['pid']"]
node16 -> node42[headport=n, tailport=s,label=" else  "]
node18 -> node43[headport=n, tailport=s,label="   "]
node19 -> node44[headport=n, tailport=s,label="   "]
node20 -> node46[headport=n, tailport=s,label="   "]
node21 -> node46[headport=n, tailport=s,label="   "]
node22 -> node23[headport=n, tailport=s,label="   "]
node23 -> node48[headport=n, tailport=s,label="   "]
node25 -> node24[headport=n, tailport=s,label="   "]
node26 -> node51[headport=n, tailport=s,label="$_GET['f']='properties'"]
node26 -> node55[headport=n, tailport=s,label="$_GET['f']='move'"]
node26 -> node56[headport=n, tailport=s,label="$_GET['f']='delete'"]
node26 -> node24[headport=n, tailport=s,label=" else  "]
node27 -> node9[headport=n, tailport=s,label="   "]
node29 -> node28[headport=n, tailport=s,label="   "]
node30 -> node63[headport=n, tailport=s,label="$_GET['f']='properties'"]
node30 -> node64[headport=n, tailport=s,label="$_GET['f']='move'"]
node30 -> node65[headport=n, tailport=s,label="$_GET['f']='delete'"]
node30 -> node60[headport=n, tailport=s,label=" else  "]
node31 -> node11[headport=n, tailport=s,label="   "]
node32 -> node33[headport=n, tailport=s,label="   "]
node33 -> node67[headport=n, tailport=s,label="!$_page['lck']"]
node33 -> node36[headport=n, tailport=s,label=" else  "]
node34 -> node68[headport=n, tailport=s,label="   "]
node35 -> node68[headport=n, tailport=s,label="   "]
node36 -> node13[headport=n, tailport=s,label="   "]
node38 -> node37[headport=n, tailport=s,label="   "]
node39 -> node73[headport=n, tailport=s,label="$pid"]
node39 -> node74[headport=n, tailport=s,label=" else  "]
node40 -> node15[headport=n, tailport=s,label="   "]
node41 -> node42[headport=n, tailport=s,label="   "]
node42 -> node17[headport=n, tailport=s,label="   "]
node44 -> node77[headport=n, tailport=s,label="$data = mysql_fetch_array($sql)"]
node44 -> node76[headport=n, tailport=s,label=" else  "]
node45 -> node19[headport=n, tailport=s,label="   "]
node47 -> node21[headport=n, tailport=s,label="   "]
node49 -> node24[headport=n, tailport=s,label="   "]
node50 -> node24[headport=n, tailport=s,label="   "]
node51 -> node24[headport=n, tailport=s,label="   "]
node52 -> node24[headport=n, tailport=s,label="   "]
node53 -> node24[headport=n, tailport=s,label="   "]
node54 -> node24[headport=n, tailport=s,label="   "]
node55 -> node49[headport=n, tailport=s,label="$_page['lck']"]
node55 -> node52[headport=n, tailport=s,label=" else  "]
node56 -> node50[headport=n, tailport=s,label="$_page['lck']"]
node56 -> node53[headport=n, tailport=s,label=" else  "]
node57 -> node26[headport=n, tailport=s,label="   "]
node58 -> node28[headport=n, tailport=s,label="   "]
node59 -> node28[headport=n, tailport=s,label="   "]
node60 -> node28[headport=n, tailport=s,label="   "]
node61 -> node28[headport=n, tailport=s,label="   "]
node62 -> node28[headport=n, tailport=s,label="   "]
node63 -> node61[headport=n, tailport=s,label="   "]
node64 -> node58[headport=n, tailport=s,label="$_page['lck']"]
node64 -> node84[headport=n, tailport=s,label=" else  "]
node65 -> node59[headport=n, tailport=s,label="$_page['lck']"]
node65 -> node85[headport=n, tailport=s,label=" else  "]
node66 -> node30[headport=n, tailport=s,label="   "]
node67 -> node36[headport=n, tailport=s,label="   "]
node69 -> node35[headport=n, tailport=s,label="   "]
node70 -> node37[headport=n, tailport=s,label="   "]
node71 -> node37[headport=n, tailport=s,label="   "]
node72 -> node37[headport=n, tailport=s,label="   "]
node73 -> node70[headport=n, tailport=s,label="!$data"]
node73 -> node92[headport=n, tailport=s,label=" else  "]
node74 -> node71[headport=n, tailport=s,label="!$data"]
node74 -> node93[headport=n, tailport=s,label=" else  "]
node75 -> node39[headport=n, tailport=s,label="   "]
node76 -> node43[headport=n, tailport=s,label="   "]
node77 -> node78[headport=n, tailport=s,label="   "]
node78 -> node44[headport=n, tailport=s,label="   "]
node79 -> node52[headport=n, tailport=s,label="   "]
node80 -> node53[headport=n, tailport=s,label="   "]
node81 -> node55[headport=n, tailport=s,label="   "]
node82 -> node56[headport=n, tailport=s,label="   "]
node83 -> node60[headport=n, tailport=s,label="   "]
node84 -> node61[headport=n, tailport=s,label="   "]
node85 -> node61[headport=n, tailport=s,label="   "]
node86 -> node61[headport=n, tailport=s,label="   "]
node87 -> node64[headport=n, tailport=s,label="   "]
node88 -> node65[headport=n, tailport=s,label="   "]
node89 -> node72[headport=n, tailport=s,label="   "]
node90 -> node91[headport=n, tailport=s,label="!$_page['pid']"]
node90 -> node72[headport=n, tailport=s,label=" else  "]
node91 -> node89[headport=n, tailport=s,label="$color > $_page['color']"]
node91 -> node72[headport=n, tailport=s,label=" else  "]
node92 -> node90[headport=n, tailport=s,label="   "]
node93 -> node90[headport=n, tailport=s,label="   "]
node94 -> node84[headport=n, tailport=s,label="   "]
node95 -> node85[headport=n, tailport=s,label="   "]
node96 -> node92[headport=n, tailport=s,label="   "]
node97 -> node93[headport=n, tailport=s,label="   "]

}

