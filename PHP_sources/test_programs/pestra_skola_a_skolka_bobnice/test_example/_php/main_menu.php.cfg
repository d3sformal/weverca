digraph g {node [shape=box]
 graph[rankdir="TB", concentrate=true];node0[label="Post
"]
node1[label="Form
"]
node2[label="Body
global $_page;
"]
node3[label="Ajax
"]
node4[label="ShowMenu
global $_page;
global $_inf;
$sql = sql_select('pages','id, name, datum, adr, lck, pos, script, icon, text, lck',
    \"where pid = '0' and pos > '0' and deleted = '0' order by pos, name\"
    , (PAGE_LIMIT * ($_inf['s'] - 1) ) .\",\". PAGE_LIMIT
  )
PrintMenuTable($sql, $_page['ct'], PAGE_LIMIT)
"]
node5[label="AddMainMenu
global $_page;
"]
node6[label="MoveMainMenu
global $_page;
$id = GetCollum(1)
"]
node7[label="AddMainMenuForm
global $_inf;
"]
node8[label="MoveMainMenuForm
global $_inf;
"]
node9[label=""]
node10[label="return false;
"]
node11[label="global $_inf;
global $_error;
global $_page;
"]
node12[label="return false;
"]
node13[label=""]
node14[label="echo \"<div class=\\"toolbox\\">\";
ToolButton(\"p=$_GET[p]\", 'Zobrazit hlavní menu', 'page', false)
ToolButton(\"p=$_GET[p]&amp;a=menu&amp;f=add\", 'Přidat položku do hlavního menu', 'plus')
echo \"</div><div class=\\"float_cl\\">&nbsp;</div>\";
"]
node15[label=""]
node16[label="MoveMainMenuForm()
"]
node17[label="ShowMenu()
"]
node18[label=""]
node19[label="$pos = 0
"]
node20[label=""]
node21[label="return;
"]
node22[label="$data = mysql_fetch_array( sql_select('pages',\"id, name, adr, pos \",
    \"where deleted = '0' and id = '$id' and pid = '0'\",1
  ))
"]
node23[label="return;
"]
node24[label="FormHead(\"Přidat stránku\")
HiddenBox2(1,$_inf['i'])
TextBox(\"Jméno\", 2, '', 3, 30)
TextBox(\"Titulek\", 3, '', 0, 100)
RadioButtons(\"Druh stránky\", 4, 1, Array(1,2), Array(\"Rubrika\", \"Článek\"))
SelectIcon(\"Ikona\", 5)
FormBottom('', \"'nul', 'txt', 'txt'\", \"0,3,0\", \"0,30,100\")
"]
node25[label="return;
"]
node26[label=""]
node27[label="die(\"<h1>Chyba vstupu</h1>\")
"]
node28[label="$_inf['post'] = true
Post
$_inf['form'] = true
Form
Body
$_inf['ajax'] = true
Ajax
ShowMenu
AddMainMenu
MoveMainMenu
AddMainMenuForm
MoveMainMenuForm
"]
node29[label=""]
node30[label="AddMainMenu()
"]
node31[label="MoveMainMenu()
"]
node32[label=""]
node33[label=""]
node34[label="AddMainMenuForm()
"]
node35[label="MoveMainMenuForm()
"]
node36[label="return false;
"]
node37[label=""]
node38[label="return;
"]
node39[label="echo \"\n<div id=\\"ajax_target\\" >\";
ShowMenu()
echo \"\n</div>\";
"]
node40[label=""]
node41[label="return;
"]
node42[label=""]
node43[label=""]
node44[label="ThrowFormError(0, \"Nelze nalézt vybranou stránku\")
return;
"]
node45[label=""]
node46[label=""]
node47[label=""]
node48[label=""]
node49[label=""]
node50[label="Alert(\"Na této pozici není žádná stránka\")
return;
"]
node51[label="$data = mysql_fetch_array( sql_select('pages',\"id, name, adr, pos \",
    \"where pid = '0' and deleted = '0' and pos = '$_inf[i]'\",1
  ))
"]
node52[label=""]
node53[label=""]
node54[label=""]
node55[label=""]
node56[label="return true;
"]
node57[label=""]
node58[label=""]
node59[label=""]
node60[label=""]
node61[label=""]
node62[label=""]
node63[label="return;
"]
node64[label="$script = GetCollum(4) == 1 ? \"rubric\" : \"\"
$icon = GetCollum(5)
"]
node65[label=""]
node66[label="MakeRefresh(\"index.php?p=$_GET[p]\")
"]
node67[label=""]
node68[label=""]
node69[label="Alert(\"Na této pozici není žádná stránka\")
return;
"]
node70[label="Alert(\"Posunout stránku: \". $data['name'])
echo \"\n<form action=\\"\". GetLink() .\"#form\\" method=\\"post\\" id=\\"form\\" name=\\"form\\" enctype=\\"multipart/form-data\\" >\";
echo \"<input name=\\"col[1]\\" id=\\"col1\\" type=\\"hidden\\" value=\\"$data[id]\\" />\";
ShowMenu()
echo \"</form>\";
"]
node71[label=""]
node72[label=""]
node73[label=""]
node74[label="sql_insert('pages','name, adr, datum, pid, pos, script, title, icon, color',
    \"('$name', '$adres', '\". date(\"y-m-d H:i:s\") .\"', '0', '$pos', '$script', '$title', '$icon', '$pos')\"
  )
sql_update('pages', 'ct = ct + 1', \"id = $_page[id] and deleted = 0\", 1)
MakeRefresh()
"]
node75[label="$icon = \"\"
"]
node76[label="$adres = MakeAdres($name)
$p = $_page['ct'] + 1
"]
node77[label=""]
node78[label="sql_update('pages',\"pos = $pos, color = $pos\",\"deleted = '0' and id = '$id'\", 1)
sql_update('pages',\"color = $pos\",\"deleted = '0' and pid = '$id'\")
"]
node79[label="$pos = $_page['ct']
"]
node80[label=""]
node81[label=""]
node82[label="sql_update('pages',\"pos = pos + 1\",\"pid = '0' and pos >= '$pos' and deleted = '0'\")
sql_update('pages',\"color = color + 1\",\"color >= '$pos' and deleted = '0'\")
"]
node83[label="$pos = $p
"]
node84[label="sql_update('pages',\"pos = pos - 1\",\"deleted = 0 and pos > '$data[pos]' and pos <= '$pos' and pid = '0'\")
sql_update('pages',\"color = color - 1\",\"color > '$data[pos]' and color <= '$pos' and deleted = '0'\")
"]
node85[label="sql_update('pages',\"pos = pos + 1\",\"deleted = 0 and pos < '$data[pos]' and pos >= '$pos' and pid = '0'\")
sql_update('pages',\"color = color + 1\",\"color < '$data[pos]' and color >= '$pos' and deleted = '0'\")
"]
node86[label=""]
node0 -> node10[headport=n, tailport=s,label="LCK && !IsLoged()"]
node0 -> node11[headport=n, tailport=s,label=" else  "]
node1 -> node12[headport=n, tailport=s,label="LCK && !IsLoged()"]
node1 -> node13[headport=n, tailport=s,label=" else  "]
node2 -> node14[headport=n, tailport=s,label="IsLoged() || !LCK"]
node2 -> node15[headport=n, tailport=s,label=" else  "]
node3 -> node16[headport=n, tailport=s,label="IsLoged() && $_GET['f'] == 'move'"]
node3 -> node17[headport=n, tailport=s,label=" else  "]
node4 -> node18[headport=n, tailport=s,label="   "]
node5 -> node19[headport=n, tailport=s,label="!is_numeric( $pos = GetCollum(1) )"]
node5 -> node20[headport=n, tailport=s,label=" else  "]
node6 -> node21[headport=n, tailport=s,label="NumberTest(2, $pos  = GetCollum(2) , 0, 0)"]
node6 -> node22[headport=n, tailport=s,label=" else  "]
node7 -> node23[headport=n, tailport=s,label="IsRefreshed(\"Stránka přidána\")"]
node7 -> node24[headport=n, tailport=s,label=" else  "]
node8 -> node25[headport=n, tailport=s,label="IsRefreshed(\"Stránka byla přesunuta\")"]
node8 -> node26[headport=n, tailport=s,label=" else  "]
node9 -> node27[headport=n, tailport=s,label="AUTORIZACE != \"Q.&dJhůs63d5dS=d56sLc5%\" or !AUTORIZACE"]
node9 -> node28[headport=n, tailport=s,label=" else  "]
node10 -> node29[headport=n, tailport=s,label="   "]
node11 -> node30[headport=n, tailport=s,label="$_GET['f']='add'"]
node11 -> node31[headport=n, tailport=s,label="$_GET['f']='move'"]
node11 -> node29[headport=n, tailport=s,label=" else  "]
node12 -> node33[headport=n, tailport=s,label="   "]
node13 -> node34[headport=n, tailport=s,label="$_GET['f']='add'"]
node13 -> node35[headport=n, tailport=s,label="$_GET['f']='move'"]
node13 -> node36[headport=n, tailport=s,label=" else  "]
node14 -> node15[headport=n, tailport=s,label="   "]
node15 -> node38[headport=n, tailport=s,label="Form()"]
node15 -> node39[headport=n, tailport=s,label=" else  "]
node16 -> node40[headport=n, tailport=s,label="   "]
node17 -> node40[headport=n, tailport=s,label="   "]
node19 -> node20[headport=n, tailport=s,label="   "]
node20 -> node41[headport=n, tailport=s,label="LenghtTest(2, $name = GetCollum(2) , 3, 30)"]
node20 -> node42[headport=n, tailport=s,label=" else  "]
node21 -> node43[headport=n, tailport=s,label="   "]
node22 -> node44[headport=n, tailport=s,label="!$data"]
node22 -> node45[headport=n, tailport=s,label=" else  "]
node23 -> node47[headport=n, tailport=s,label="   "]
node24 -> node47[headport=n, tailport=s,label="   "]
node25 -> node49[headport=n, tailport=s,label="   "]
node26 -> node50[headport=n, tailport=s,label="$_inf['i'] <= 0"]
node26 -> node51[headport=n, tailport=s,label=" else  "]
node27 -> node28[headport=n, tailport=s,label="   "]
node28 -> node53[headport=n, tailport=s,label="   "]
node30 -> node29[headport=n, tailport=s,label="   "]
node31 -> node29[headport=n, tailport=s,label="   "]
node32 -> node11[headport=n, tailport=s,label="   "]
node34 -> node56[headport=n, tailport=s,label="   "]
node35 -> node56[headport=n, tailport=s,label="   "]
node36 -> node33[headport=n, tailport=s,label="   "]
node37 -> node13[headport=n, tailport=s,label="   "]
node38 -> node60[headport=n, tailport=s,label="   "]
node39 -> node60[headport=n, tailport=s,label="   "]
node41 -> node62[headport=n, tailport=s,label="   "]
node42 -> node63[headport=n, tailport=s,label="LenghtTest(3, $title = GetCollum(3) , 0, 100)"]
node42 -> node64[headport=n, tailport=s,label=" else  "]
node44 -> node43[headport=n, tailport=s,label="   "]
node45 -> node67[headport=n, tailport=s,label="$pos > 0 and $data['pos'] != $pos and $data['pos'] > 0"]
node45 -> node66[headport=n, tailport=s,label=" else  "]
node46 -> node22[headport=n, tailport=s,label="   "]
node48 -> node24[headport=n, tailport=s,label="   "]
node50 -> node49[headport=n, tailport=s,label="   "]
node51 -> node69[headport=n, tailport=s,label="!$data"]
node51 -> node70[headport=n, tailport=s,label=" else  "]
node52 -> node26[headport=n, tailport=s,label="   "]
node54 -> node29[headport=n, tailport=s,label="   "]
node55 -> node31[headport=n, tailport=s,label="   "]
node56 -> node33[headport=n, tailport=s,label="   "]
node57 -> node33[headport=n, tailport=s,label="   "]
node58 -> node35[headport=n, tailport=s,label="   "]
node59 -> node36[headport=n, tailport=s,label="   "]
node61 -> node39[headport=n, tailport=s,label="   "]
node63 -> node62[headport=n, tailport=s,label="   "]
node64 -> node75[headport=n, tailport=s,label="$icon == 'none'"]
node64 -> node76[headport=n, tailport=s,label=" else  "]
node65 -> node42[headport=n, tailport=s,label="   "]
node66 -> node43[headport=n, tailport=s,label="   "]
node67 -> node79[headport=n, tailport=s,label="$pos > $_page['ct']"]
node67 -> node80[headport=n, tailport=s,label=" else  "]
node68 -> node45[headport=n, tailport=s,label="   "]
node69 -> node49[headport=n, tailport=s,label="   "]
node70 -> node49[headport=n, tailport=s,label="   "]
node71 -> node51[headport=n, tailport=s,label="   "]
node72 -> node54[headport=n, tailport=s,label="   "]
node73 -> node56[headport=n, tailport=s,label="   "]
node74 -> node62[headport=n, tailport=s,label="   "]
node75 -> node76[headport=n, tailport=s,label="   "]
node76 -> node82[headport=n, tailport=s,label="$pos > 0 and $pos < $p"]
node76 -> node83[headport=n, tailport=s,label=" else  "]
node77 -> node64[headport=n, tailport=s,label="   "]
node78 -> node66[headport=n, tailport=s,label="   "]
node79 -> node80[headport=n, tailport=s,label="   "]
node80 -> node84[headport=n, tailport=s,label="$pos > $data['pos']"]
node80 -> node86[headport=n, tailport=s,label=" else  "]
node81 -> node70[headport=n, tailport=s,label="   "]
node82 -> node74[headport=n, tailport=s,label="   "]
node83 -> node74[headport=n, tailport=s,label="   "]
node84 -> node78[headport=n, tailport=s,label="   "]
node85 -> node78[headport=n, tailport=s,label="   "]
node86 -> node85[headport=n, tailport=s,label="$pos < $data['pos']"]
node86 -> node78[headport=n, tailport=s,label=" else  "]

}

