digraph g {node [shape=box]
 graph[rankdir="TB", concentrate=true];node0[label="Post
"]
node1[label="Form
"]
node2[label="Body
global $_page;
"]
node3[label="Ajax
ShowGalery()
"]
node4[label="PageBottom
global $_page;
global $image_sql;
"]
node5[label="ShowGalery
global $_page;
global $_inf;
global $image_sql;
$poz = IMAGE_LIMIT * ($_inf['s'] - 1)
$image_sql = sql_select('galery','id, datum, pid, adr, width, height',
    \"where pid = '$_page[id]' and zob = '1' order by id\"
    , \"$poz,\". IMAGE_LIMIT
  )
echo \"\n<table class=\\"items\\" align=\\"center\\"><tr><td colspan=\\"4\\" class=\\"stat\\" >\";
"]
node6[label="InsertImage
global $_page;
$fileName = \"file$fid\"
"]
node7[label="DeleteAllImages
$sql = sql_select('galery',\"id, adr\", \"where pid = '$galeryId' and zob = 1\")
"]
node8[label="AddImage
global $_page;
$data = mysql_fetch_array( sql_select('galery', 'max(id) as id', \"\", 1))
$id = $data ? $data['id'] + 1 : 1
$prev = $_page['img'] ? '' : \", img = '$id'\"
$dotaz = \"\"
$images = 0
$x = 1
"]
node9[label="DeleteImage
global $_page;
$id = GetCollum(1)
"]
node10[label="PropertiesAlbum
global $_page;
"]
node11[label="PreviewAlbum
global $_page;
$id = GetCollum(1)
$img_data = mysql_fetch_array( sql_select('galery',\"id, adr\", \"where pid = '$_page[id]' and zob = 1 and id = '$id'\", 1))
"]
node12[label="MoveAlbum
global $_page;
"]
node13[label="TruncAlbum
global $_page;
"]
node14[label="DeleteAlbum
global $_page;
"]
node15[label="AddImageForm
global $_inf;
"]
node16[label="DeleteImageForm
global $_inf;
global $_page;
"]
node17[label="PropertiesAlbumForm
global $_page;
"]
node18[label="PreviewAlbumForm
global $_inf;
global $_page;
"]
node19[label="MoveAlbumForm
global $_page;
"]
node20[label="TruncAlbumForm
"]
node21[label="DeleteAlbumForm
"]
node22[label=""]
node23[label="return false;
"]
node24[label=""]
node25[label="return false;
"]
node26[label=""]
node27[label="echo \"<div class=\\"toolbox\\">\";
ToolButton(\"p=$_GET[p]\", 'Zobrazit album', 'page', false)
ToolButton(\"p=$_GET[p]&amp;a=album&amp;f=properties\", 'Vlastnosti alba', 'buble')
ToolButton(\"p=$_GET[p]&amp;a=album&amp;f=move\", 'Přesunout album do jiné rubriky', 'folder')
ToolButton(\"p=$_GET[p]&amp;a=album&amp;f=add\", 'Přidat obrázek', 'plus')
ShowAdminTextsTools()
ToolButton(\"p=$_GET[p]&amp;a=album&amp;f=trunc\", 'Smazat všechny obrázky', 'delete_all')
ToolButton(\"p=$_GET[p]&amp;a=album&amp;f=delete_all\", 'Smazat album', 'delete')
echo \"</div><div class=\\"float_cl\\">&nbsp;</div>\";
"]
node28[label=""]
node29[label=""]
node30[label="$image_sql = sql_select('galery','id, adr, width, height',
      \"where pid = '$_page[id]' and zob = '1' order by id\"
    )
"]
node31[label="mysql_data_seek($image_sql, 0)
"]
node32[label="$_inf['bottom'] = true
echo \"</td></tr>\";
$load = mysql_fetch_array($image_sql)
"]
node33[label="echo \"</td></tr>\";
"]
node34[label="mkdir(\"galery\")
"]
node35[label=""]
node36[label="$file = \"$data[id]_$data[adr].jpg\"
"]
node37[label="sql_delete('galery', \"pid = '$galeryId' and zob = 1\")
"]
node38[label=""]
node39[label="$img_data = mysql_fetch_array( sql_select('galery',\"id, adr\", \"where pid = '$_page[id]' and zob = 1 and id = '$id'\", 1))
"]
node40[label=""]
node41[label="return;
"]
node42[label=""]
node43[label="ThrowFormError(0, \"Nelze nalézt vybraný obrázek\")
return;
"]
node44[label="sql_update('pages', \"img = '$id'\", \"id = $_page[id] and deleted = 0\", 1)
MakeRefresh()
"]
node45[label="return;
"]
node46[label="$data = mysql_fetch_array( sql_select('pages', 'id, color, pid',
    \"where deleted = '0' and pid = '$id' and script = 'galery'\"
  ))
"]
node47[label="DeleteAllImages($_page['id'])
MakeRefresh()
sql_update('pages', \"ct = 0\", \"id = $_page[id] and deleted = 0\", 1)
"]
node48[label=""]
node49[label="DeleteAllImages($_page['id'])
sql_delete('texts',\"pid = '$_page[id]'\")
sql_update('pages',\"deleted = '1'\", \"id = '$_page[id]'\",1)
$data = mysql_fetch_array( sql_select('pages', 'id, adr',
      \"where deleted = '0' and script = 'galery' and pid = '$_page[pid]'\"
    ))
sql_update('pages', \"ct = ct - 1\", \"pid = $_page[pid] and script = 'galery' and deleted = 0\", 1)
MakeRefresh(\"index.php?p=\". ($data['id'] ? \"$data[id]_$data[adr]\" : $_page['pid']),2)
"]
node50[label=""]
node51[label="return;
"]
node52[label="FormHead(\"Přidat obrázky\")
$x = 1
"]
node53[label="return;
"]
node54[label="$data = mysql_fetch_array( sql_select('galery',\"id, datum, pid, adr\",
    \"where pid = '$_page[id]' and zob = 1 and id = '$_inf[i]'\",1
  ))
"]
node55[label="return;
"]
node56[label="FormHead(\"Vlastnosti alba\")
TextBox(\"Jméno\", 1, $_page['name'], 3, 40)
TextBox(\"Titulek\", 2, $_page['title'], 0, 100)
FormBottom('', \"'txt', 'txt'\", \"3, 0\", \"30, 100\")
"]
node57[label="return;
"]
node58[label="$data = mysql_fetch_array( sql_select('galery',\"id, datum, pid, adr\",
    \"where pid = '$_page[id]' and zob = 1 and id = '$_inf[i]'\",1
  ))
"]
node59[label="return;
"]
node60[label="FormHead(\"Přesunout album do jiné galerie\")
$sql = sql_select('pages', 'name, id',
      \"where deleted = '0' and script = 'rubric' and img != '0' order by name\"
  )
$x = 0
"]
node61[label="return;
"]
node62[label="FormHead(\"Smazat všechny obrázky\")
YNRadio(\"Opravdu chcete odstranit veškeré obrázky z tohoto alba?\", 1, 0)
FormBottom('')
"]
node63[label="return;
"]
node64[label="FormHead(\"Smazat toto album\")
YNRadio(\"Opravdu chcete odstranit toto album?\", 1, 0)
FormBottom('')
"]
node65[label="die(\"<h1>Chyba vstupu</h1>\")
"]
node66[label="require_once \"_php/_text.php\"
$image_sql = false
$_inf['post'] = true
Post
$_inf['form'] = true
Form
Body
$_inf['ajax'] = true
Ajax
PageBottom
ShowGalery
InsertImage
DeleteAllImages
AddImage
DeleteImage
PropertiesAlbum
PreviewAlbum
MoveAlbum
TruncAlbum
DeleteAlbum
AddImageForm
DeleteImageForm
PropertiesAlbumForm
PreviewAlbumForm
MoveAlbumForm
TruncAlbumForm
DeleteAlbumForm
"]
node67[label=""]
node68[label="return;
"]
node69[label=""]
node70[label=""]
node71[label=""]
node72[label="return true;
"]
node73[label=""]
node74[label=""]
node75[label="return;
"]
node76[label="ShowTexts(false)
echo \"\n<div id=\\"ajax_target\\" >\";
ShowGalery()
echo \"\n</div>\";
"]
node77[label="echo \"\n<div class=\\"box\\" id=\\"$wnd\\"><table border=\\"0\\" class=\\"wnd_table\\">\";
echo \"\n  <tr><td class=\\"resize r_tl\\" onmousedown=\\"return StartAlbumResize(event, 'tl');\\" title=\\"Změna velikosti náhledu\\" ></td><td class=\\"resize r_t\\" onmousedown=\\"return StartAlbumResize(event, 't');\\" title=\\"Změna velikosti náhledu\\" ></td><td class=\\"resize r_tr\\" onmousedown=\\"return StartAlbumResize(event, 'tr');\\" title=\\"Změna velikosti náhledu\\" ></td></tr>\";
echo \"\n  <tr><td rowspan=\\"2\\" class=\\"resize r_w\\" onmousedown=\\"return StartAlbumResize(event, 'l');\\" title=\\"Změna velikosti náhledu\\" ></td><td class=\\"wnd_tools\\" onmousedown=\\"return StartDragAndDrop('$wnd', event);\\" title=\\"Přesun okna náhledu\\" ><a href=\\"\\" onclick=\\"WndClose('$wnd'); return false;\\" title=\\"Uzavření okna náhledu\\" ><img src=\\"_graphics/icon/20_close.png\\" alt=\\"zavřít\\" /></a></td><td rowspan=\\"2\\" class=\\"resize r_w\\" onmousedown=\\"return StartAlbumResize(event, 'r');\\" title=\\"Změna velikosti náhledu\\" ></td></tr>\";
echo \"\n  <tr><td class=\\"wnd_box\\">\";
echo \"\n    <div class=\\"txt_box\\" id=\\"\".$wnd.\"_text\\"></div>\";
echo \"\n    <div class=\\"img_box\\" id=\\"\".$wnd.\"_img\\"><img onclick=\\"WndClose('$wnd');\\" src=\\"\\" alt=\\"\\" id=\\"\".$wnd.\"_image\\" title=\\"Klikutím uzavřete náhled\\" /></div>\";
echo \"\n    <div class=\\"tools_box\\" id=\\"\".$wnd.\"_toolbox\\"><a href=\\"\\"  onclick=\\"return ResizeAlbum(400, 300); \\" class=\\"zoom\\" title=\\"Změna velikosti náhledu - 400x300 pixelů\\" ><img src=\\"_graphics/icon/20_lupa.png\\" alt=\\"Zoom\\" /><span>-2</span></a> <a href=\\"\\"  onclick=\\"return ResizeAlbum(500, 400); \\" class=\\"zoom\\" title=\\"Změna velikosti náhledu - 500x400 pixelů\\" ><img src=\\"_graphics/icon/20_lupa.png\\" alt=\\"Zoom\\" /><span>-1</span></a> <a href=\\"\\"  onclick=\\"return ResizeAlbum(800, 500); \\" class=\\"zoom\\" title=\\"Změna velikosti náhledu - 800x500 pixelů\\" ><img src=\\"_graphics/icon/20_lupa.png\\" alt=\\"Zoom\\" /><span>0</span></a> <a href=\\"\\"  onclick=\\"return ResizeAlbum(1000, 700); \\" class=\\"zoom\\" title=\\"Změna velikosti náhledu - 1000x700 pixelů\\" ><img src=\\"_graphics/icon/20_lupa.png\\" alt=\\"Zoom\\" /><span>+1</span></a> <a href=\\"\\"  onclick=\\"return ResizeAlbum(1030, 1100); \\" class=\\"zoom\\" title=\\"Změna velikosti náhledu - 1030x1100 pixelů\\" ><img src=\\"_graphics/icon/20_lupa.png\\" alt=\\"Zoom\\" /><span>+2</span></a> <a id=\\"\".$wnd.\"_href\\" href=\\"\\" target=\\"_blank\\" onclick=\\"return ShowImageWindow();\\" style=\\"float:right; margin: 2px 5px 0px 75px;\\" title=\\"Otevřít obrázek\\" ><img src=\\"_graphics/icon/20_file.png\\" alt=\\"Otevřít\\" /></a> <a href=\\"\\" title=\\"Předchozí obrázek\\"  onclick=\\"return ShowImage(-1); \\" ><img src=\\"_graphics/icon/32_larrow_red.png\\" alt=\\"Předchozí\\" /></a><a href=\\"\\" title=\\"Následující obrázek\\"  onclick=\\"return ShowImage(0); \\" ><img src=\\"_graphics/icon/32_rarrow_red.png\\" alt=\\"Další\\" /></a></div>\";
echo \"\n  </td></tr>\";
echo \"\n  <tr><td class=\\"resize r_bl\\" onmousedown=\\"return StartAlbumResize(event, 'bl');\\" title=\\"Změna velikosti náhledu\\" ></td><td class=\\"resize r_b\\" onmousedown=\\"return StartAlbumResize(event, 'b');\\" title=\\"Změna velikosti náhledu\\" ></td><td class=\\"resize r_br\\" onmousedown=\\"return StartAlbumResize(event, 'br');\\" title=\\"Změna velikosti náhledu\\" ></td></tr>\";
echo \"\n</table></div>\";
echo \"\n<script type=\\"text/javascript\\">\n  var i = new Array({src:'',width:0,height:0}\";
"]
node78[label="$x = 1
"]
node79[label="echo \"</table>\";
"]
node80[label="mkdir(\"galery/thumbs\")
"]
node81[label=""]
node82[label="unlink(\"galery/$file\")
"]
node83[label=""]
node84[label=""]
node85[label=""]
node86[label="$d = InsertImage($x, $id, $false)
"]
node87[label=""]
node88[label="$x++
"]
node89[label="ThrowFormError(0, \"Nelze nalézt vybraný obrázek\")
return;
"]
node90[label=""]
node91[label="sql_update('pages', \"ct = ct - 1$prev\", \"id = $_page[id] and deleted = 0\", 1)
MakeRefresh()
"]
node92[label=""]
node93[label="return;
"]
node94[label="$adr = MakeAdres($name)
sql_update('pages',\"name = '$name', adr = '$adr', title = '$title'\", \"id = '$_page[id]'\")
MakeRefresh(\"index.php?p=$_page[id]_$adr\")
"]
node95[label=""]
node96[label=""]
node97[label=""]
node98[label=""]
node99[label="ThrowFormError(0, \"Cílová rubrika neexistuje\")
return;
"]
node100[label=""]
node101[label=""]
node102[label=""]
node103[label=""]
node104[label=""]
node105[label=""]
node106[label="Alert(\"Na této pozici není žádný obrázek\")
return;
"]
node107[label="FormHead(\"Smazat Obrázek\")
HiddenBox2(1, $data['id'])
YNRadio(\"Opravdu chcete odstranit tento obrázek?\", 2, 0)
FormBottom('')
echo \"<img src=\\"galery/thumbs/$data[id]_$data[adr].jpg\\" alt=\\"$adr\\" /><br />&nbsp;\";
"]
node108[label=""]
node109[label=""]
node110[label=""]
node111[label=""]
node112[label="Alert(\"Na této pozici není žádný obrázek\")
return;
"]
node113[label="FormHead(\"Nastavit jako náhled alba\")
HiddenBox2(1, $data['id'])
FormBottom('Odesláním zajistíte, že tento obrázek bude viditelný pod jménem alba v galerii.')
echo \"<img src=\\"galery/thumbs/$data[id]_$data[adr].jpg\\" alt=\\"$adr\\" /><br />&nbsp;\";
"]
node114[label=""]
node115[label=""]
node116[label=""]
node117[label=""]
node118[label=""]
node119[label=""]
node120[label=""]
node121[label=""]
node122[label=""]
node123[label="AddImage()
"]
node124[label="DeleteImage()
"]
node125[label="PropertiesAlbum()
"]
node126[label="PreviewAlbum()
"]
node127[label="MoveAlbum()
"]
node128[label="TruncAlbum()
"]
node129[label="DeleteAlbum()
"]
node130[label=""]
node131[label=""]
node132[label="return false;
"]
node133[label="return true;
"]
node134[label=""]
node135[label="AddImageForm()
"]
node136[label="DeleteImageForm()
"]
node137[label="PropertiesAlbumForm()
"]
node138[label="PreviewAlbumForm()
"]
node139[label="MoveAlbumForm()
"]
node140[label="TruncAlbumForm()
"]
node141[label="DeleteAlbumForm()
"]
node142[label=""]
node143[label=""]
node144[label=""]
node145[label="echo \",{src:'galery/$data[id]_$data[adr].jpg',width:$data[width],height:$data[height]}\";
"]
node146[label="echo \")\n  AlbumInit('$_page[name]', '$wnd', i, 400, 300, 30, 104);\n</script>\";
"]
node147[label=""]
node148[label="echo \"</tr>\";
"]
node149[label=""]
node150[label=""]
node151[label="preg_match(\"/^(.{0,50}).*\.(\S{3})$/\", $_FILES[$fileName]['name'], $im)
$name = $im[1]
$prip = mb_strtolower($im[2], 'utf-8')
$adres = MakeAdres($name)
$imgAdres = $id .\"_$adres.jpg\"
$res = null
"]
node152[label="unlink(\"galery/thumbs/$file\")
"]
node153[label="$dotaz .= ($dotaz ? ',' : '') . $d
$id++
$images++
"]
node154[label="sql_insert('galery','id, datum, pid, adr, width, height', $dotaz)
sql_update('pages', \"ct = ct + '$images'$prev\", \"id = $_page[id] and deleted = 0\", 1)
MakeRefresh()
"]
node155[label="ThrowFormError(0, \"Do databáze nebyl vložen žádný obrázek\")
"]
node156[label="unlink(\"galery/$img_data[id]_$img_data[adr].jpg\")
"]
node157[label=""]
node158[label=""]
node159[label=""]
node160[label=""]
node161[label=""]
node162[label="ThrowFormError(1, \"Vrámci stejné galerie není možno přesouvat.\")
return;
"]
node163[label="$color = $data['color']
sql_update('pages',\"pid = '$data[pid]', color = '$color'\", \"id = '$_page[id]'\")
sql_update('pages', 'ct = ct - 1', \"pid = $_page[pid] and script = 'galery' and deleted = 0\", 1)
sql_update('pages', 'ct = ct + 1', \"id = $data[id] and deleted = 0\", 1)
MakeRefresh()
"]
node164[label=""]
node165[label="FormBottom('')
"]
node166[label="FileBox(\"Cesta k obrázku\", $x)
"]
node167[label="$x++
"]
node168[label=""]
node169[label=""]
node170[label="SelectBox(\"Přesunout do galerie\", 1, $_page['pid'], $values, $texts)
FormBottom('')
"]
node171[label="$values[$x] = $data['id']
$texts[$x] = $data['name']
"]
node172[label="$x++
"]
node173[label=""]
node174[label=""]
node175[label=""]
node176[label=""]
node177[label=""]
node178[label=""]
node179[label=""]
node180[label=""]
node181[label=""]
node182[label=""]
node183[label=""]
node184[label=""]
node185[label=""]
node186[label=""]
node187[label=""]
node188[label=""]
node189[label=""]
node190[label="$x++
"]
node191[label=""]
node192[label="ThrowFormError($fid, \"Musíte zadat cestu k obrázku ve vašem počítači\")
"]
node193[label="return \"\";
"]
node194[label="$res = @imagecreatefromjpeg($_FILES[$fileName]['tmp_name'])
"]
node195[label="$res = @imagecreatefromgif( $_FILES[$fileName]['tmp_name'])
"]
node196[label="$res = @imagecreatefrompng( $_FILES[$fileName]['tmp_name'])
"]
node197[label="ThrowFormError($fid, \"Nebyl zadán soubor s obrázkem - přípona vámi nahraného obrázku: <u>$prip</u>; zadávejte pouze soubory s příponou jpg, gif, png.\")
return \"\";
"]
node198[label=""]
node199[label=""]
node200[label=""]
node201[label=""]
node202[label="$prev = ', img = 0'
"]
node203[label="sql_delete('galery', \"id = '$img_data[id]'\", 1)
$prev = ''
"]
node204[label=""]
node205[label="$load = mysql_fetch_array($image_sql)
"]
node206[label="echo \"\n  <tr>\";
$x = 1
"]
node207[label="echo \"\n  <tr>\";
$x = 1
"]
node208[label=""]
node209[label="$x++
"]
node210[label=""]
node211[label=""]
node212[label=""]
node213[label=""]
node214[label=""]
node215[label="unlink(\"galery/thumbs/$img_data[id]_$img_data[adr].jpg\")
"]
node216[label=""]
node217[label="$prev = \", img = '$data[id]'\"
"]
node218[label="$prev = ', img = 0'
"]
node219[label=""]
node220[label=""]
node221[label="echo \"</tr>\";
"]
node222[label="$adr = \"$data[id]_$data[adr]\"
$poz++
echo \"<td class=\\"imgBox\\"><a href=\\"image.php?p=$_GET[p]&amp;i=$poz\\" target=\\"_blank\\" onclick=\\"return ShowImage($poz); \\" ><img src=\\"galery/thumbs/$adr.jpg\\" alt=\\"$adr\\" /></a></td>\";
"]
node223[label="echo \"<td class=\\"blank\\">&nbsp;</td>\";
"]
node224[label="ThrowFormError($fid, \"Interní chyba při zpracovávání obrázku - selhalo načtení obrázku.\")
return \"\";
"]
node225[label="$im = @imagecreatetruecolor($wid, $hei) or die(\"Cannot Initialize new GD image stream - new image\")
imagecopyresampled($im, $res, 0,0,0,0, $wid, $hei, $vel[0], $vel[1])
imagejpeg($im, \"galery/$imgAdres\")
imagedestroy($res)
imagedestroy($im)
return \"('$id', '\". date(\"y-m-d H:i:s\") .\"', '$_page[id]', '$adres', '$wid', '$hei')\";
"]
node226[label=""]
node227[label=""]
node228[label=""]
node229[label="$data = mysql_fetch_array( sql_select('galery','id, datum, pid, adr',
          \"where pid = '$_page[id]' and id != '$id' and zob = '1' order by id\", 1
        ))
"]
node230[label=""]
node231[label="$x++
"]
node232[label="$wid = (int)(($wid / $hei) * IMG_HEIGHT)
$hei = IMG_HEIGHT
"]
node233[label=""]
node234[label="unlink(\"galery/$imgAdres\")
"]
node235[label=""]
node236[label=""]
node237[label="echo \"<th><div class=\\"toolbox\\">\";
ToolButton(\"p=$_GET[p]&amp;a=album&amp;f=preview&amp;i=$data[id]\", 'Nastavit jako náhled alba', 'lupa')
ToolButton(\"p=$_GET[p]&amp;a=album&amp;f=delete&amp;i=$data[id]\", 'Smazat obrázek', 'delete')
echo \"</div></th>\";
"]
node238[label="echo \"<td class=\\"blank\\">&nbsp;</td>\";
"]
node239[label="$hei = (int)(($hei / $wid) * IMG_WIDTH)
$wid = IMG_WIDTH
"]
node240[label="$im = @imagecreatetruecolor($wid, $hei) or die(\"Cannot Initialize new GD image stream - new image\")
imagecopyresampled($im, $res, 0,0,0,0, $wid,$hei, $vel[0], $vel[1])
imagejpeg($im,\"galery/thumbs/$imgAdres\")
imagedestroy($im)
$wid = $vel[0]
$hei = $vel[1]
"]
node241[label="unlink(\"galery/thumbs/$imgAdres\")
"]
node242[label="$vel = getimagesize($_FILES[$fileName]['tmp_name'])
$wid = $vel[0]
$hei = $vel[1]
"]
node243[label="$wid = (int)(($wid / $hei) * THUMB_HEIGHT)
$hei = THUMB_HEIGHT
"]
node244[label=""]
node245[label="$hei = (int)(($hei / $wid) * THUMB_WIDTH)
$wid = THUMB_WIDTH
"]
node0 -> node23[headport=n, tailport=s,label="LCK && !IsLoged()"]
node0 -> node24[headport=n, tailport=s,label=" else  "]
node1 -> node25[headport=n, tailport=s,label="LCK && !IsLoged()"]
node1 -> node26[headport=n, tailport=s,label=" else  "]
node2 -> node27[headport=n, tailport=s,label="IsLoged() || !LCK"]
node2 -> node28[headport=n, tailport=s,label=" else  "]
node3 -> node29[headport=n, tailport=s,label="   "]
node4 -> node30[headport=n, tailport=s,label="!$image_sql || mysql_num_rows($image_sql) < $_page['ct']"]
node4 -> node31[headport=n, tailport=s,label=" else  "]
node5 -> node32[headport=n, tailport=s,label="ShowSwitcher(mysql_num_rows($image_sql), $_page['ct'], IMAGE_LIMIT)"]
node5 -> node33[headport=n, tailport=s,label=" else  "]
node6 -> node34[headport=n, tailport=s,label="!is_dir(\"galery\")"]
node6 -> node35[headport=n, tailport=s,label=" else  "]
node7 -> node36[headport=n, tailport=s,label="$data = mysql_fetch_array($sql)"]
node7 -> node37[headport=n, tailport=s,label=" else  "]
node8 -> node38[headport=n, tailport=s,label="   "]
node9 -> node39[headport=n, tailport=s,label="GetCollum(2)"]
node9 -> node40[headport=n, tailport=s,label=" else  "]
node10 -> node41[headport=n, tailport=s,label="LenghtTest(1, $name = GetCollum(1) , 3, 40)"]
node10 -> node42[headport=n, tailport=s,label=" else  "]
node11 -> node43[headport=n, tailport=s,label="!$img_data"]
node11 -> node44[headport=n, tailport=s,label=" else  "]
node12 -> node45[headport=n, tailport=s,label="NumberTest(1, $id  = GetCollum(1) , 0, 0)"]
node12 -> node46[headport=n, tailport=s,label=" else  "]
node13 -> node47[headport=n, tailport=s,label="GetCollum(1)"]
node13 -> node48[headport=n, tailport=s,label=" else  "]
node14 -> node49[headport=n, tailport=s,label="GetCollum(1)"]
node14 -> node50[headport=n, tailport=s,label=" else  "]
node15 -> node51[headport=n, tailport=s,label="IsRefreshed(\"Obrázky byly přidány\")"]
node15 -> node52[headport=n, tailport=s,label=" else  "]
node16 -> node53[headport=n, tailport=s,label="IsRefreshed(\"Obrázek byl smazán\")"]
node16 -> node54[headport=n, tailport=s,label=" else  "]
node17 -> node55[headport=n, tailport=s,label="IsRefreshed(\"Album bylo upraveno\")"]
node17 -> node56[headport=n, tailport=s,label=" else  "]
node18 -> node57[headport=n, tailport=s,label="IsRefreshed(\"Náhled alba byl změněn\")"]
node18 -> node58[headport=n, tailport=s,label=" else  "]
node19 -> node59[headport=n, tailport=s,label="IsRefreshed(\"Album bylo přesunuto\")"]
node19 -> node60[headport=n, tailport=s,label=" else  "]
node20 -> node61[headport=n, tailport=s,label="IsRefreshed(\"Album bylo vyprázdněno\")"]
node20 -> node62[headport=n, tailport=s,label=" else  "]
node21 -> node63[headport=n, tailport=s,label="IsRefreshed(\"Album bylo smazáno\")"]
node21 -> node64[headport=n, tailport=s,label=" else  "]
node22 -> node65[headport=n, tailport=s,label="AUTORIZACE != \"Q.&dJhůs63d5dS=d56sLc5%\" or !AUTORIZACE"]
node22 -> node66[headport=n, tailport=s,label=" else  "]
node23 -> node67[headport=n, tailport=s,label="   "]
node24 -> node68[headport=n, tailport=s,label="TextPost()"]
node24 -> node69[headport=n, tailport=s,label=" else  "]
node25 -> node71[headport=n, tailport=s,label="   "]
node26 -> node72[headport=n, tailport=s,label="ShowTextForm()"]
node26 -> node73[headport=n, tailport=s,label=" else  "]
node27 -> node28[headport=n, tailport=s,label="   "]
node28 -> node75[headport=n, tailport=s,label="Form()"]
node28 -> node76[headport=n, tailport=s,label=" else  "]
node30 -> node77[headport=n, tailport=s,label="   "]
node31 -> node77[headport=n, tailport=s,label="   "]
node32 -> node78[headport=n, tailport=s,label="$load"]
node32 -> node79[headport=n, tailport=s,label=" else  "]
node33 -> node79[headport=n, tailport=s,label="   "]
node34 -> node35[headport=n, tailport=s,label="   "]
node35 -> node80[headport=n, tailport=s,label="!is_dir(\"galery/thumbs\")"]
node35 -> node81[headport=n, tailport=s,label=" else  "]
node36 -> node82[headport=n, tailport=s,label="is_file(\"galery/$file\")"]
node36 -> node83[headport=n, tailport=s,label=" else  "]
node37 -> node85[headport=n, tailport=s,label="   "]
node38 -> node86[headport=n, tailport=s,label="$x <= ADD_IMAGES_CT"]
node38 -> node87[headport=n, tailport=s,label=" else  "]
node39 -> node89[headport=n, tailport=s,label="!$img_data"]
node39 -> node90[headport=n, tailport=s,label=" else  "]
node41 -> node92[headport=n, tailport=s,label="   "]
node42 -> node93[headport=n, tailport=s,label="LenghtTest(2, $title = GetCollum(2) , 0, 100)"]
node42 -> node94[headport=n, tailport=s,label=" else  "]
node43 -> node96[headport=n, tailport=s,label="   "]
node44 -> node96[headport=n, tailport=s,label="   "]
node45 -> node98[headport=n, tailport=s,label="   "]
node46 -> node99[headport=n, tailport=s,label="!$data"]
node46 -> node100[headport=n, tailport=s,label=" else  "]
node47 -> node48[headport=n, tailport=s,label="   "]
node49 -> node50[headport=n, tailport=s,label="   "]
node51 -> node102[headport=n, tailport=s,label="   "]
node52 -> node103[headport=n, tailport=s,label="   "]
node53 -> node105[headport=n, tailport=s,label="   "]
node54 -> node106[headport=n, tailport=s,label="!$data"]
node54 -> node107[headport=n, tailport=s,label=" else  "]
node55 -> node109[headport=n, tailport=s,label="   "]
node56 -> node109[headport=n, tailport=s,label="   "]
node57 -> node111[headport=n, tailport=s,label="   "]
node58 -> node112[headport=n, tailport=s,label="!$data"]
node58 -> node113[headport=n, tailport=s,label=" else  "]
node59 -> node115[headport=n, tailport=s,label="   "]
node60 -> node116[headport=n, tailport=s,label="   "]
node61 -> node118[headport=n, tailport=s,label="   "]
node62 -> node118[headport=n, tailport=s,label="   "]
node63 -> node120[headport=n, tailport=s,label="   "]
node64 -> node120[headport=n, tailport=s,label="   "]
node65 -> node66[headport=n, tailport=s,label="   "]
node66 -> node122[headport=n, tailport=s,label="   "]
node68 -> node67[headport=n, tailport=s,label="   "]
node69 -> node123[headport=n, tailport=s,label="$_GET['f']='add'"]
node69 -> node124[headport=n, tailport=s,label="$_GET['f']='delete'"]
node69 -> node125[headport=n, tailport=s,label="$_GET['f']='properties'"]
node69 -> node126[headport=n, tailport=s,label="$_GET['f']='preview'"]
node69 -> node127[headport=n, tailport=s,label="$_GET['f']='move'"]
node69 -> node128[headport=n, tailport=s,label="$_GET['f']='trunc'"]
node69 -> node129[headport=n, tailport=s,label="$_GET['f']='delete_all'"]
node69 -> node67[headport=n, tailport=s,label=" else  "]
node70 -> node24[headport=n, tailport=s,label="   "]
node72 -> node71[headport=n, tailport=s,label="   "]
node73 -> node135[headport=n, tailport=s,label="$_GET['f']='add'"]
node73 -> node136[headport=n, tailport=s,label="$_GET['f']='delete'"]
node73 -> node137[headport=n, tailport=s,label="$_GET['f']='properties'"]
node73 -> node138[headport=n, tailport=s,label="$_GET['f']='preview'"]
node73 -> node139[headport=n, tailport=s,label="$_GET['f']='move'"]
node73 -> node140[headport=n, tailport=s,label="$_GET['f']='trunc'"]
node73 -> node141[headport=n, tailport=s,label="$_GET['f']='delete_all'"]
node73 -> node132[headport=n, tailport=s,label=" else  "]
node74 -> node26[headport=n, tailport=s,label="   "]
node75 -> node143[headport=n, tailport=s,label="   "]
node76 -> node143[headport=n, tailport=s,label="   "]
node77 -> node145[headport=n, tailport=s,label="$data = mysql_fetch_array($image_sql)"]
node77 -> node146[headport=n, tailport=s,label=" else  "]
node78 -> node147[headport=n, tailport=s,label="   "]
node79 -> node149[headport=n, tailport=s,label="   "]
node80 -> node81[headport=n, tailport=s,label="   "]
node81 -> node150[headport=n, tailport=s,label="!is_file($_FILES[$fileName]['tmp_name'])"]
node81 -> node151[headport=n, tailport=s,label=" else  "]
node82 -> node83[headport=n, tailport=s,label="   "]
node83 -> node152[headport=n, tailport=s,label="is_file(\"galery/thumbs/$file\")"]
node83 -> node84[headport=n, tailport=s,label=" else  "]
node84 -> node36[headport=n, tailport=s,label="$data = mysql_fetch_array($sql)"]
node84 -> node37[headport=n, tailport=s,label=" else  "]
node86 -> node153[headport=n, tailport=s,label="$d"]
node86 -> node88[headport=n, tailport=s,label=" else  "]
node87 -> node154[headport=n, tailport=s,label="$dotaz"]
node87 -> node155[headport=n, tailport=s,label=" else  "]
node88 -> node38[headport=n, tailport=s,label="   "]
node89 -> node40[headport=n, tailport=s,label="   "]
node90 -> node156[headport=n, tailport=s,label="is_file(\"galery/$img_data[id]_$img_data[adr].jpg\")"]
node90 -> node157[headport=n, tailport=s,label=" else  "]
node91 -> node40[headport=n, tailport=s,label="   "]
node93 -> node92[headport=n, tailport=s,label="   "]
node94 -> node92[headport=n, tailport=s,label="   "]
node95 -> node42[headport=n, tailport=s,label="   "]
node97 -> node44[headport=n, tailport=s,label="   "]
node99 -> node98[headport=n, tailport=s,label="   "]
node100 -> node162[headport=n, tailport=s,label="$_page['pid'] == $data['pid']"]
node100 -> node163[headport=n, tailport=s,label=" else  "]
node101 -> node46[headport=n, tailport=s,label="   "]
node103 -> node166[headport=n, tailport=s,label="$x <= ADD_IMAGES_CT"]
node103 -> node165[headport=n, tailport=s,label=" else  "]
node104 -> node52[headport=n, tailport=s,label="   "]
node106 -> node105[headport=n, tailport=s,label="   "]
node107 -> node105[headport=n, tailport=s,label="   "]
node108 -> node54[headport=n, tailport=s,label="   "]
node110 -> node56[headport=n, tailport=s,label="   "]
node112 -> node111[headport=n, tailport=s,label="   "]
node113 -> node111[headport=n, tailport=s,label="   "]
node114 -> node58[headport=n, tailport=s,label="   "]
node116 -> node171[headport=n, tailport=s,label="$data = mysql_fetch_array($sql)"]
node116 -> node170[headport=n, tailport=s,label=" else  "]
node117 -> node60[headport=n, tailport=s,label="   "]
node119 -> node62[headport=n, tailport=s,label="   "]
node121 -> node64[headport=n, tailport=s,label="   "]
node123 -> node67[headport=n, tailport=s,label="   "]
node124 -> node67[headport=n, tailport=s,label="   "]
node125 -> node67[headport=n, tailport=s,label="   "]
node126 -> node67[headport=n, tailport=s,label="   "]
node127 -> node67[headport=n, tailport=s,label="   "]
node128 -> node67[headport=n, tailport=s,label="   "]
node129 -> node67[headport=n, tailport=s,label="   "]
node130 -> node67[headport=n, tailport=s,label="   "]
node131 -> node69[headport=n, tailport=s,label="   "]
node132 -> node71[headport=n, tailport=s,label="   "]
node133 -> node71[headport=n, tailport=s,label="   "]
node134 -> node71[headport=n, tailport=s,label="   "]
node135 -> node133[headport=n, tailport=s,label="   "]
node136 -> node133[headport=n, tailport=s,label="   "]
node137 -> node133[headport=n, tailport=s,label="   "]
node138 -> node133[headport=n, tailport=s,label="   "]
node139 -> node133[headport=n, tailport=s,label="   "]
node140 -> node133[headport=n, tailport=s,label="   "]
node141 -> node133[headport=n, tailport=s,label="   "]
node142 -> node73[headport=n, tailport=s,label="   "]
node144 -> node76[headport=n, tailport=s,label="   "]
node145 -> node145[headport=n, tailport=s,label="$data = mysql_fetch_array($image_sql)"]
node145 -> node146[headport=n, tailport=s,label=" else  "]
node146 -> node187[headport=n, tailport=s,label="   "]
node147 -> node188[headport=n, tailport=s,label="$x <= TABLE_ITEMS"]
node147 -> node189[headport=n, tailport=s,label=" else  "]
node148 -> node78[headport=n, tailport=s,label="$load"]
node148 -> node79[headport=n, tailport=s,label=" else  "]
node150 -> node192[headport=n, tailport=s,label="$test"]
node150 -> node193[headport=n, tailport=s,label=" else  "]
node151 -> node194[headport=n, tailport=s,label="$prip=\"jpg\""]
node151 -> node195[headport=n, tailport=s,label="$prip=\"gif\""]
node151 -> node196[headport=n, tailport=s,label="$prip=\"png\""]
node151 -> node197[headport=n, tailport=s,label=" else  "]
node152 -> node84[headport=n, tailport=s,label="   "]
node153 -> node88[headport=n, tailport=s,label="   "]
node154 -> node199[headport=n, tailport=s,label="   "]
node155 -> node199[headport=n, tailport=s,label="   "]
node156 -> node200[headport=n, tailport=s,label="   "]
node157 -> node200[headport=n, tailport=s,label="   "]
node158 -> node90[headport=n, tailport=s,label="   "]
node159 -> node91[headport=n, tailport=s,label="   "]
node160 -> node91[headport=n, tailport=s,label="   "]
node161 -> node94[headport=n, tailport=s,label="   "]
node162 -> node98[headport=n, tailport=s,label="   "]
node163 -> node98[headport=n, tailport=s,label="   "]
node164 -> node100[headport=n, tailport=s,label="   "]
node165 -> node102[headport=n, tailport=s,label="   "]
node166 -> node167[headport=n, tailport=s,label="   "]
node167 -> node103[headport=n, tailport=s,label="   "]
node168 -> node107[headport=n, tailport=s,label="   "]
node169 -> node113[headport=n, tailport=s,label="   "]
node170 -> node115[headport=n, tailport=s,label="   "]
node171 -> node172[headport=n, tailport=s,label="   "]
node172 -> node116[headport=n, tailport=s,label="   "]
node173 -> node124[headport=n, tailport=s,label="   "]
node174 -> node125[headport=n, tailport=s,label="   "]
node175 -> node126[headport=n, tailport=s,label="   "]
node176 -> node127[headport=n, tailport=s,label="   "]
node177 -> node128[headport=n, tailport=s,label="   "]
node178 -> node129[headport=n, tailport=s,label="   "]
node179 -> node132[headport=n, tailport=s,label="   "]
node180 -> node133[headport=n, tailport=s,label="   "]
node181 -> node136[headport=n, tailport=s,label="   "]
node182 -> node137[headport=n, tailport=s,label="   "]
node183 -> node138[headport=n, tailport=s,label="   "]
node184 -> node139[headport=n, tailport=s,label="   "]
node185 -> node140[headport=n, tailport=s,label="   "]
node186 -> node141[headport=n, tailport=s,label="   "]
node188 -> node205[headport=n, tailport=s,label="$tab[$x] = $load"]
node188 -> node190[headport=n, tailport=s,label=" else  "]
node189 -> node206[headport=n, tailport=s,label="!LCK || IsLoged()"]
node189 -> node207[headport=n, tailport=s,label=" else  "]
node190 -> node147[headport=n, tailport=s,label="   "]
node191 -> node208[headport=n, tailport=s,label="$x <= TABLE_ITEMS"]
node191 -> node148[headport=n, tailport=s,label=" else  "]
node192 -> node193[headport=n, tailport=s,label="   "]
node193 -> node210[headport=n, tailport=s,label="   "]
node194 -> node211[headport=n, tailport=s,label="   "]
node195 -> node211[headport=n, tailport=s,label="   "]
node196 -> node211[headport=n, tailport=s,label="   "]
node197 -> node210[headport=n, tailport=s,label="   "]
node198 -> node151[headport=n, tailport=s,label="   "]
node200 -> node215[headport=n, tailport=s,label="is_file(\"galery/thumbs/$img_data[id]_$img_data[adr].jpg\")"]
node200 -> node216[headport=n, tailport=s,label=" else  "]
node201 -> node159[headport=n, tailport=s,label="   "]
node202 -> node159[headport=n, tailport=s,label="   "]
node203 -> node219[headport=n, tailport=s,label="$img_data['id'] == $_page['img']"]
node203 -> node160[headport=n, tailport=s,label=" else  "]
node204 -> node163[headport=n, tailport=s,label="   "]
node205 -> node190[headport=n, tailport=s,label="   "]
node206 -> node220[headport=n, tailport=s,label="   "]
node207 -> node191[headport=n, tailport=s,label="   "]
node208 -> node222[headport=n, tailport=s,label="$data = $tab[$x]"]
node208 -> node223[headport=n, tailport=s,label=" else  "]
node209 -> node191[headport=n, tailport=s,label="   "]
node211 -> node224[headport=n, tailport=s,label="$res == null"]
node211 -> node227[headport=n, tailport=s,label=" else  "]
node212 -> node195[headport=n, tailport=s,label="   "]
node213 -> node196[headport=n, tailport=s,label="   "]
node214 -> node197[headport=n, tailport=s,label="   "]
node215 -> node203[headport=n, tailport=s,label="   "]
node216 -> node203[headport=n, tailport=s,label="   "]
node217 -> node201[headport=n, tailport=s,label="   "]
node218 -> node201[headport=n, tailport=s,label="   "]
node219 -> node229[headport=n, tailport=s,label="$_page['ct'] > 1"]
node219 -> node202[headport=n, tailport=s,label=" else  "]
node220 -> node230[headport=n, tailport=s,label="$x <= TABLE_ITEMS"]
node220 -> node221[headport=n, tailport=s,label=" else  "]
node221 -> node207[headport=n, tailport=s,label="   "]
node222 -> node209[headport=n, tailport=s,label="   "]
node223 -> node209[headport=n, tailport=s,label="   "]
node224 -> node210[headport=n, tailport=s,label="   "]
node225 -> node210[headport=n, tailport=s,label="   "]
node226 -> node210[headport=n, tailport=s,label="   "]
node227 -> node234[headport=n, tailport=s,label="is_file(\"galery/$imgAdres\")"]
node227 -> node235[headport=n, tailport=s,label=" else  "]
node228 -> node211[headport=n, tailport=s,label="   "]
node229 -> node217[headport=n, tailport=s,label="$data"]
node229 -> node218[headport=n, tailport=s,label=" else  "]
node230 -> node237[headport=n, tailport=s,label="$data = $tab[$x]"]
node230 -> node238[headport=n, tailport=s,label=" else  "]
node231 -> node220[headport=n, tailport=s,label="   "]
node232 -> node225[headport=n, tailport=s,label="   "]
node233 -> node232[headport=n, tailport=s,label="$hei > IMG_HEIGHT"]
node233 -> node225[headport=n, tailport=s,label=" else  "]
node234 -> node235[headport=n, tailport=s,label="   "]
node235 -> node241[headport=n, tailport=s,label="is_file(\"galery/thumbs/$imgAdres\")"]
node235 -> node242[headport=n, tailport=s,label=" else  "]
node236 -> node227[headport=n, tailport=s,label="   "]
node237 -> node231[headport=n, tailport=s,label="   "]
node238 -> node231[headport=n, tailport=s,label="   "]
node239 -> node233[headport=n, tailport=s,label="   "]
node240 -> node239[headport=n, tailport=s,label="$wid > IMG_WIDTH"]
node240 -> node233[headport=n, tailport=s,label=" else  "]
node241 -> node242[headport=n, tailport=s,label="   "]
node242 -> node245[headport=n, tailport=s,label="$wid > THUMB_WIDTH"]
node242 -> node244[headport=n, tailport=s,label=" else  "]
node243 -> node240[headport=n, tailport=s,label="   "]
node244 -> node243[headport=n, tailport=s,label="$hei > THUMB_HEIGHT"]
node244 -> node240[headport=n, tailport=s,label=" else  "]
node245 -> node244[headport=n, tailport=s,label="   "]

}

