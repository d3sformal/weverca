digraph g {node [shape=box]
 graph[rankdir="TB", concentrate=true];node0[label="connect
"]
node1[label="getServerVersion
return mysql_get_server_info();
"]
node2[label="set_db
return mysql_select_db($db_name, $this->_link);
"]
node3[label="disconnect
"]
node4[label="getRow
$query .= ' LIMIT 1'
$this->_result = false
$this->_lastQuery = $query
"]
node5[label="getValue
$query .= ' LIMIT 1'
$this->_result = false
$this->_lastQuery = $query
"]
node6[label="Execute
$this->_result = false
"]
node7[label="ExecuteS
$this->_result = false
$this->_lastQuery = $query
"]
node8[label="nextRow
return mysql_fetch_assoc($result ? $result : $this->_result);
"]
node9[label="delete
$this->_result = false
"]
node10[label="NumRows
"]
node11[label="Insert_ID
"]
node12[label="Affected_Rows
"]
node13[label="q
global $webservice_call;
$this->_result = false
"]
node14[label="getMsgError
return mysql_error($this->_link);
"]
node15[label="getNumberError
return mysql_errno($this->_link);
"]
node16[label="displayMySQLError
global $webservice_call;
"]
node17[label="tryToConnect
"]
node18[label="tryUTF8
$link = @mysql_connect($server, $user, $pwd)
"]
node19[label="connect
getServerVersion
set_db
disconnect
getRow
getValue
Execute
ExecuteS
nextRow
delete
NumRows
Insert_ID
Affected_Rows
q
getMsgError
getNumberError
displayMySQLError
tryToConnect
tryUTF8
"]
node20[label="define('_PS_DEBUG_SQL_', false)
"]
node21[label=""]
node22[label=""]
node23[label=""]
node24[label="@mysql_close($this->_link)
"]
node25[label="$this->_link = false
"]
node26[label=""]
node27[label=""]
node28[label=""]
node29[label=""]
node30[label="$this->_result = mysql_query($query, $this->_link)
"]
node31[label=""]
node32[label=""]
node33[label=""]
node34[label=""]
node35[label="$query  = 'DELETE FROM `'.bqSQL($table).'`'.($where ? ' WHERE '.$where : '').($limit ? ' LIMIT '.(int)($limit) : '')
$res =  mysql_query($query, $this->_link)
"]
node36[label="return false;
"]
node37[label="$nrows = mysql_num_rows($this->_result)
"]
node38[label=""]
node39[label="return mysql_insert_id($this->_link);
"]
node40[label="return false;
"]
node41[label="return mysql_affected_rows($this->_link);
"]
node42[label="return false;
"]
node43[label="$result =  mysql_query($query, $this->_link)
"]
node44[label="return false;
"]
node45[label=""]
node46[label=""]
node47[label="WebserviceRequest::getInstance()->setError(500, '[SQL Error] '.mysql_error($this->_link).'. Query was : '.$query, 97)
"]
node48[label=""]
node49[label="return 1;
"]
node50[label=""]
node51[label="$ret = false
"]
node52[label="$ret = true
"]
node53[label=""]
node54[label=""]
node55[label="die(Tools::displayError('Link to database cannot be established.'))
"]
node56[label=""]
node57[label=""]
node58[label=""]
node59[label="$this->_lastCached = true
return $result;
"]
node60[label=""]
node61[label=""]
node62[label=""]
node63[label="$this->_lastCached = true
return $result;
"]
node64[label="$this->_lastCached = false
$result =  array_shift($tmpArray)
"]
node65[label="return false;
"]
node66[label=""]
node67[label="$this->displayMySQLError($query)
"]
node68[label=""]
node69[label="$this->displayMySQLError($query)
"]
node70[label="return false;
"]
node71[label=""]
node72[label="$this->_lastCached = true
return $result;
"]
node73[label="$this->_lastCached = false
"]
node74[label=""]
node75[label=""]
node76[label=""]
node77[label="Cache::getInstance()->deleteQuery($query)
"]
node78[label="return $res;
"]
node79[label=""]
node80[label=""]
node81[label="Cache::getInstance()->setNumRows(md5($this->_lastQuery), $nrows)
"]
node82[label="return $nrows;
"]
node83[label="return Cache::getInstance()->getNumRows(md5($this->_lastQuery));
"]
node84[label=""]
node85[label=""]
node86[label=""]
node87[label=""]
node88[label=""]
node89[label="$this->displayMySQLError($query)
"]
node90[label=""]
node91[label=""]
node92[label=""]
node93[label=""]
node94[label=""]
node95[label=""]
node96[label=""]
node97[label=""]
node98[label="return 2;
"]
node99[label="@mysql_close($link)
return 0;
"]
node100[label=""]
node101[label="@mysql_close($link)
return $ret;
"]
node102[label="die(Tools::displayError('The database selection cannot be made.'))
"]
node103[label=""]
node104[label=""]
node105[label="$this->_lastCached = false
"]
node106[label="$this->displayMySQLError($query)
"]
node107[label="return false;
"]
node108[label=""]
node109[label=""]
node110[label="Cache::getInstance()->setQuery($query, $result)
"]
node111[label="return $result;
"]
node112[label=""]
node113[label="Cache::getInstance()->deleteQuery($query)
"]
node114[label="return $this->_result;
"]
node115[label=""]
node116[label=""]
node117[label="$this->displayMySQLError($query)
"]
node118[label=""]
node119[label="$this->displayMySQLError($query)
"]
node120[label="return false;
"]
node121[label=""]
node122[label=""]
node123[label=""]
node124[label=""]
node125[label=""]
node126[label=""]
node127[label="Cache::getInstance()->deleteQuery($query)
"]
node128[label="return $result;
"]
node129[label=""]
node130[label="die(Tools::displayError((mysql_error($this->_link))))
"]
node131[label="die(Tools::displayError(mysql_error($this->_link).'<br /><br /><pre>'.$query.'</pre>'))
"]
node132[label=""]
node133[label=""]
node134[label=""]
node135[label="die(Tools::displayError('PrestaShop Fatal error: no utf-8 support. Please check your server configuration.'))
"]
node136[label="return $this->_link;
"]
node137[label="return $result;
"]
node138[label=""]
node139[label="$this->displayMySQLError($query)
"]
node140[label="$result = mysql_fetch_assoc($this->_result)
"]
node141[label=""]
node142[label=""]
node143[label="return $this->_result;
"]
node144[label="return $resultArray;
"]
node145[label=""]
node146[label="$resultArray = array()
"]
node147[label=""]
node148[label=""]
node149[label="Cache::getInstance()->setQuery($query, $result)
"]
node150[label="Cache::getInstance()->setQuery($query, $resultArray)
"]
node151[label=""]
node152[label=""]
node153[label=""]
node154[label=""]
node155[label="$resultArray[] = $row
"]
node0 -> node20[headport=n, tailport=s,label="!defined('_PS_DEBUG_SQL_')"]
node0 -> node21[headport=n, tailport=s,label=" else  "]
node1 -> node22[headport=n, tailport=s,label="   "]
node2 -> node23[headport=n, tailport=s,label="   "]
node3 -> node24[headport=n, tailport=s,label="_link"]
node3 -> node25[headport=n, tailport=s,label=" else  "]
node4 -> node26[headport=n, tailport=s,label="$use_cache AND _PS_CACHE_ENABLED_"]
node4 -> node27[headport=n, tailport=s,label=" else  "]
node5 -> node28[headport=n, tailport=s,label="$use_cache AND _PS_CACHE_ENABLED_"]
node5 -> node29[headport=n, tailport=s,label=" else  "]
node6 -> node30[headport=n, tailport=s,label="_link"]
node6 -> node31[headport=n, tailport=s,label=" else  "]
node7 -> node32[headport=n, tailport=s,label="$use_cache AND _PS_CACHE_ENABLED_"]
node7 -> node33[headport=n, tailport=s,label=" else  "]
node8 -> node34[headport=n, tailport=s,label="   "]
node9 -> node35[headport=n, tailport=s,label="_link"]
node9 -> node36[headport=n, tailport=s,label=" else  "]
node10 -> node37[headport=n, tailport=s,label="!$this->_lastCached AND $this->_link AND $this->_result"]
node10 -> node38[headport=n, tailport=s,label=" else  "]
node11 -> node39[headport=n, tailport=s,label="_link"]
node11 -> node40[headport=n, tailport=s,label=" else  "]
node12 -> node41[headport=n, tailport=s,label="_link"]
node12 -> node42[headport=n, tailport=s,label=" else  "]
node13 -> node43[headport=n, tailport=s,label="_link"]
node13 -> node44[headport=n, tailport=s,label=" else  "]
node14 -> node45[headport=n, tailport=s,label="   "]
node15 -> node46[headport=n, tailport=s,label="   "]
node16 -> node47[headport=n, tailport=s,label="$webservice_call && mysql_errno($this->_link)"]
node16 -> node48[headport=n, tailport=s,label=" else  "]
node17 -> node49[headport=n, tailport=s,label="!$link = @mysql_connect($server, $user, $pwd, $newDbLink)"]
node17 -> node50[headport=n, tailport=s,label=" else  "]
node18 -> node51[headport=n, tailport=s,label="!mysql_query('SET NAMES \'utf8\'', $link)"]
node18 -> node52[headport=n, tailport=s,label=" else  "]
node19 -> node53[headport=n, tailport=s,label="   "]
node20 -> node21[headport=n, tailport=s,label="   "]
node21 -> node54[headport=n, tailport=s,label="$this->_link = mysql_connect($this->_server, $this->_user, $this->_password)"]
node21 -> node55[headport=n, tailport=s,label=" else  "]
node24 -> node25[headport=n, tailport=s,label="   "]
node25 -> node58[headport=n, tailport=s,label="   "]
node26 -> node59[headport=n, tailport=s,label="$result = Cache::getInstance()->get(md5($query))"]
node26 -> node27[headport=n, tailport=s,label=" else  "]
node27 -> node60[headport=n, tailport=s,label="_link"]
node27 -> node61[headport=n, tailport=s,label=" else  "]
node28 -> node63[headport=n, tailport=s,label="$result = Cache::getInstance()->get(md5($query))"]
node28 -> node29[headport=n, tailport=s,label=" else  "]
node29 -> node64[headport=n, tailport=s,label="$this->_link AND $this->_result = mysql_query($query, $this->_link) AND is_array($tmpArray = mysql_fetch_assoc($this->_result))"]
node29 -> node65[headport=n, tailport=s,label=" else  "]
node30 -> node67[headport=n, tailport=s,label="_PS_DEBUG_SQL_"]
node30 -> node68[headport=n, tailport=s,label=" else  "]
node31 -> node69[headport=n, tailport=s,label="_PS_DEBUG_SQL_"]
node31 -> node70[headport=n, tailport=s,label=" else  "]
node32 -> node72[headport=n, tailport=s,label="$array AND ($result = Cache::getInstance()->get(md5($query)))"]
node32 -> node33[headport=n, tailport=s,label=" else  "]
node33 -> node73[headport=n, tailport=s,label="$this->_link && $this->_result = mysql_query($query, $this->_link)"]
node33 -> node74[headport=n, tailport=s,label=" else  "]
node35 -> node77[headport=n, tailport=s,label="$use_cache AND _PS_CACHE_ENABLED_"]
node35 -> node78[headport=n, tailport=s,label=" else  "]
node36 -> node79[headport=n, tailport=s,label="   "]
node37 -> node81[headport=n, tailport=s,label="_PS_CACHE_ENABLED_"]
node37 -> node82[headport=n, tailport=s,label=" else  "]
node38 -> node83[headport=n, tailport=s,label="_PS_CACHE_ENABLED_ AND $this->_lastCached"]
node38 -> node84[headport=n, tailport=s,label=" else  "]
node39 -> node85[headport=n, tailport=s,label="   "]
node40 -> node85[headport=n, tailport=s,label="   "]
node41 -> node87[headport=n, tailport=s,label="   "]
node42 -> node87[headport=n, tailport=s,label="   "]
node43 -> node89[headport=n, tailport=s,label="$webservice_call"]
node43 -> node90[headport=n, tailport=s,label=" else  "]
node44 -> node91[headport=n, tailport=s,label="   "]
node47 -> node95[headport=n, tailport=s,label="   "]
node48 -> node96[headport=n, tailport=s,label="_PS_DEBUG_SQL_ AND mysql_errno($this->_link) AND !defined('PS_INSTALLATION_IN_PROGRESS')"]
node48 -> node95[headport=n, tailport=s,label=" else  "]
node49 -> node97[headport=n, tailport=s,label="   "]
node50 -> node98[headport=n, tailport=s,label="!@mysql_select_db($db, $link)"]
node50 -> node99[headport=n, tailport=s,label=" else  "]
node51 -> node101[headport=n, tailport=s,label="   "]
node52 -> node101[headport=n, tailport=s,label="   "]
node54 -> node102[headport=n, tailport=s,label="!$this->set_db($this->_database)"]
node54 -> node103[headport=n, tailport=s,label=" else  "]
node55 -> node103[headport=n, tailport=s,label="   "]
node56 -> node22[headport=n, tailport=s,label="   "]
node57 -> node23[headport=n, tailport=s,label="   "]
node59 -> node104[headport=n, tailport=s,label="   "]
node60 -> node105[headport=n, tailport=s,label="$this->_result = mysql_query($query, $this->_link)"]
node60 -> node61[headport=n, tailport=s,label=" else  "]
node61 -> node106[headport=n, tailport=s,label="_PS_DEBUG_SQL_"]
node61 -> node107[headport=n, tailport=s,label=" else  "]
node62 -> node27[headport=n, tailport=s,label="   "]
node63 -> node109[headport=n, tailport=s,label="   "]
node64 -> node110[headport=n, tailport=s,label="$use_cache AND _PS_CACHE_ENABLED_"]
node64 -> node111[headport=n, tailport=s,label=" else  "]
node65 -> node109[headport=n, tailport=s,label="   "]
node66 -> node29[headport=n, tailport=s,label="   "]
node67 -> node68[headport=n, tailport=s,label="   "]
node68 -> node113[headport=n, tailport=s,label="$use_cache AND _PS_CACHE_ENABLED_"]
node68 -> node114[headport=n, tailport=s,label=" else  "]
node69 -> node70[headport=n, tailport=s,label="   "]
node70 -> node115[headport=n, tailport=s,label="   "]
node71 -> node31[headport=n, tailport=s,label="   "]
node72 -> node116[headport=n, tailport=s,label="   "]
node73 -> node117[headport=n, tailport=s,label="_PS_DEBUG_SQL_"]
node73 -> node118[headport=n, tailport=s,label=" else  "]
node74 -> node119[headport=n, tailport=s,label="_PS_DEBUG_SQL_"]
node74 -> node120[headport=n, tailport=s,label=" else  "]
node75 -> node33[headport=n, tailport=s,label="   "]
node76 -> node34[headport=n, tailport=s,label="   "]
node77 -> node78[headport=n, tailport=s,label="   "]
node78 -> node79[headport=n, tailport=s,label="   "]
node80 -> node36[headport=n, tailport=s,label="   "]
node81 -> node82[headport=n, tailport=s,label="   "]
node82 -> node84[headport=n, tailport=s,label="   "]
node83 -> node84[headport=n, tailport=s,label="   "]
node86 -> node40[headport=n, tailport=s,label="   "]
node88 -> node42[headport=n, tailport=s,label="   "]
node89 -> node90[headport=n, tailport=s,label="   "]
node90 -> node127[headport=n, tailport=s,label="$use_cache AND _PS_CACHE_ENABLED_"]
node90 -> node128[headport=n, tailport=s,label=" else  "]
node92 -> node44[headport=n, tailport=s,label="   "]
node93 -> node45[headport=n, tailport=s,label="   "]
node94 -> node46[headport=n, tailport=s,label="   "]
node96 -> node131[headport=n, tailport=s,label="$query"]
node96 -> node130[headport=n, tailport=s,label=" else  "]
node98 -> node97[headport=n, tailport=s,label="   "]
node99 -> node97[headport=n, tailport=s,label="   "]
node100 -> node50[headport=n, tailport=s,label="   "]
node101 -> node134[headport=n, tailport=s,label="   "]
node102 -> node103[headport=n, tailport=s,label="   "]
node103 -> node135[headport=n, tailport=s,label="!mysql_query('SET NAMES \'utf8\'', $this->_link)"]
node103 -> node136[headport=n, tailport=s,label=" else  "]
node105 -> node139[headport=n, tailport=s,label="_PS_DEBUG_SQL_"]
node105 -> node140[headport=n, tailport=s,label=" else  "]
node106 -> node107[headport=n, tailport=s,label="   "]
node107 -> node104[headport=n, tailport=s,label="   "]
node108 -> node61[headport=n, tailport=s,label="   "]
node110 -> node111[headport=n, tailport=s,label="   "]
node111 -> node109[headport=n, tailport=s,label="   "]
node112 -> node65[headport=n, tailport=s,label="   "]
node113 -> node114[headport=n, tailport=s,label="   "]
node114 -> node115[headport=n, tailport=s,label="   "]
node117 -> node118[headport=n, tailport=s,label="   "]
node118 -> node143[headport=n, tailport=s,label="!$array"]
node118 -> node146[headport=n, tailport=s,label=" else  "]
node119 -> node120[headport=n, tailport=s,label="   "]
node120 -> node116[headport=n, tailport=s,label="   "]
node121 -> node74[headport=n, tailport=s,label="   "]
node122 -> node79[headport=n, tailport=s,label="   "]
node123 -> node84[headport=n, tailport=s,label="   "]
node124 -> node84[headport=n, tailport=s,label="   "]
node125 -> node85[headport=n, tailport=s,label="   "]
node126 -> node87[headport=n, tailport=s,label="   "]
node127 -> node128[headport=n, tailport=s,label="   "]
node128 -> node91[headport=n, tailport=s,label="   "]
node129 -> node91[headport=n, tailport=s,label="   "]
node130 -> node95[headport=n, tailport=s,label="   "]
node131 -> node130[headport=n, tailport=s,label="   "]
node132 -> node97[headport=n, tailport=s,label="   "]
node133 -> node99[headport=n, tailport=s,label="   "]
node135 -> node136[headport=n, tailport=s,label="   "]
node136 -> node148[headport=n, tailport=s,label="   "]
node137 -> node104[headport=n, tailport=s,label="   "]
node138 -> node104[headport=n, tailport=s,label="   "]
node139 -> node140[headport=n, tailport=s,label="   "]
node140 -> node149[headport=n, tailport=s,label="$use_cache = 1 AND _PS_CACHE_ENABLED_"]
node140 -> node137[headport=n, tailport=s,label=" else  "]
node141 -> node109[headport=n, tailport=s,label="   "]
node142 -> node115[headport=n, tailport=s,label="   "]
node143 -> node116[headport=n, tailport=s,label="   "]
node144 -> node116[headport=n, tailport=s,label="   "]
node145 -> node116[headport=n, tailport=s,label="   "]
node146 -> node152[headport=n, tailport=s,label="$this->_result !== true"]
node146 -> node151[headport=n, tailport=s,label=" else  "]
node147 -> node134[headport=n, tailport=s,label="   "]
node149 -> node137[headport=n, tailport=s,label="   "]
node150 -> node144[headport=n, tailport=s,label="   "]
node151 -> node150[headport=n, tailport=s,label="$use_cache AND _PS_CACHE_ENABLED_"]
node151 -> node144[headport=n, tailport=s,label=" else  "]
node152 -> node155[headport=n, tailport=s,label="$row = mysql_fetch_assoc($this->_result)"]
node152 -> node151[headport=n, tailport=s,label=" else  "]
node153 -> node146[headport=n, tailport=s,label="   "]
node154 -> node148[headport=n, tailport=s,label="   "]
node155 -> node155[headport=n, tailport=s,label="$row = mysql_fetch_assoc($this->_result)"]
node155 -> node151[headport=n, tailport=s,label=" else  "]

}

